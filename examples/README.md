# Examples

This directory contains example scripts demonstrating how to use the NetGent framework for browser automation and workflow execution.

## Overview

The examples showcase various capabilities of NetGent, including:

- Natural language-based workflow automation
- State-based navigation and interaction
- Reusable state definitions
- Workflow persistence and replay

## Available Examples

### google.py

A complete example demonstrating NetGent's core workflow capabilities by automating a Google search task.

**What it demonstrates:**

- Defining states using `StatePrompt` objects
- Creating a workflow with multiple sequential states
- Using natural language to describe triggers and actions
- State persistence and reusability via JSON storage
- Integration with Gemini LLM for intelligent automation

**Workflow Steps:**

1. Navigate to Google homepage
2. Search for "SeleniumBase Python"
3. Click on the first search result

**Usage:**

```python
from netgent.agent import NetGent
from utils.message import StatePrompt
from langchain_google_vertexai import ChatVertexAI

# Initialize agent with LLM
agent = NetGent(llm=ChatVertexAI(model="gemini-2.0-flash-exp", temperature=0.2))

# Define workflow states
prompt = [
    StatePrompt(
        name="On Browser Home Page",
        description="Start the Process",
        triggers=["If it is on the current condition of the page!"],
        actions=["Navigate to https://www.google.com/"]
    ),
    # ... more states
]

# Run the workflow
result = agent.run(state_prompts=prompt, state_repository=result_json)
```

## State Storage

The `states/` subdirectory contains JSON files that store compiled state definitions:

- **google_result.json**: Persisted state repository from the Google search example
  - Contains synthesized states with triggers and actions
  - Can be reused across multiple runs
  - Demonstrates NetGent's state caching mechanism

## Creating Your Own Examples

To create a new automation workflow:

1. **Define your states** using `StatePrompt`:

   ```python
   StatePrompt(
       name="State Name",
       description="What this state does",
       triggers=["Conditions that trigger this state"],
       actions=["Actions to perform"],
       end_state="Optional: reason to end workflow"
   )
   ```

2. **Initialize NetGent** with your preferred LLM:

   ```python
   agent = NetGent(llm=your_llm_model)
   ```

3. **Run the workflow**:

   ```python
   result = agent.run(state_prompts=prompts, state_repository=existing_states)
   ```

4. **Save state repository** for reuse:
   ```python
   with open("states/your_workflow.json", "w") as f:
       json.dump(result["state_repository"], f, indent=2)
   ```

## Key Concepts

- **State Prompts**: High-level descriptions of workflow states in natural language
- **State Repository**: Compiled, executable states generated by the StateSynthesis component
- **Triggers**: Conditions that determine when a state should execute
- **Actions**: Browser interactions to perform when a state is triggered
- **End State**: Optional flag to terminate the workflow after state completion

## Tips

- Start with simple, linear workflows before building complex branching logic
- Use descriptive state names and descriptions for better LLM understanding
- Store state repositories to reduce LLM API calls on subsequent runs
- Set appropriate `temperature` values for your LLM (lower = more deterministic)
- Use the `end_state` parameter to properly terminate workflows

## Requirements

- NetGent framework installed
- LLM API credentials configured (e.g., Google Vertex AI)
- SeleniumBase and required browser drivers
- Active internet connection for web automation
